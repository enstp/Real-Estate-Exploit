
function copySelect(input) {
    input.select();
    input.setSelectionRange(0, 99999); /*For mobile devices*/

    try {
        document.execCommand('copy');
        input.blur();
    }
    catch (err) {
        console.log(err.message);
    }
}

function copyContent(element) {
    var range = document.createRange();
    range.selectNodeContents(element);
    var selection = window.getSelection();
    selection.removeAllRanges();
    selection.addRange(range);

    try {
        document.execCommand('copy');
    } catch (err) {
        console.log(err.message);
    }

    selection.removeAllRanges();
}

jQuery.fn.copyToClipboard = function () {

    return this.each(function () {
        // is element selectable?
        if (this.select) {
            copySelect(this);
        } else {
            copyContent(this);
        }
    });
};
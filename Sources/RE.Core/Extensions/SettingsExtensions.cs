using System.IO;
using RE.Core.Business.Queries.Responses.Offers;
using RE.Core.Configuration;

namespace RE.Core.Extensions
{
    public static class SettingsExtensions
    {
        public static string GetScreenShotsEndpoint(this Settings settings)
        {
            return $"/{new DirectoryInfo(settings.ScreenShotsDirectory).Name}";
        }

        public static FileInfo GetOfferFile(this Settings settings, OfferDto offer)
        {
            var screenShotsDirectory = new DirectoryInfo(settings.ScreenShotsDirectory);
            var offerFilePath = Path.Combine(screenShotsDirectory.FullName, offer.Domain, offer.Uid, $"{offer.Price}.jpg");
            return new FileInfo(offerFilePath);
        }
    }
}

using System;
using System.ComponentModel;
using System.ComponentModel.DataAnnotations;
using RE.Core.Interfaces;
using RE.Core.Mappings.Converters;
using RE.Domain.Entities;
using RE.Domain.Enums;

namespace RE.Core.Business.Queries.Responses.Evaluations
{
    public class EvaluationDto : IMapFrom<Evaluation>
    {
        [DisplayName("Price")]
        [DisplayFormat(DataFormatString = "{0:0} €")]
        public decimal Amount { get; set; }

        [DisplayName("Changed At")]
        [DisplayFormat(DataFormatString = "{0:dd/MM/yyyy}")]
        public DateTime AvailableFrom { get; set; }

        [DisplayName("Expired At")]
        [DisplayFormat(DataFormatString = "{0:dd/MM/yyyy}")]
        public DateTime AvailableTo { get; set; }

        [DisplayName("When")]
        public string FriendlyAvailableFrom { get; set; }

        [DisplayName("Capture")]
        public string CaptureLink { get; set; }

        [DisplayName("Fluctuation")]
        public Trend Fluctuation { get; set; }

        public void Mapping(AutoMapper.Profile profile)
        {
            profile.CreateMap<Evaluation, EvaluationDto>()
                .DisableCtorValidation()
                .ConvertUsing<EvaluationToEvaluationDtoConverter>();
        }
    }
}
